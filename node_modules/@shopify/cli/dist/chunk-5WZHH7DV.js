import {
  runThemeDoctor
} from "./chunk-YE3PUNUK.js";
import {
  globalFlags
} from "./chunk-4IW7EFIM.js";
import {
  base_command_default
} from "./chunk-MK3Q63EP.js";
import {
  canRunDoctorRelease
} from "./chunk-4GAP37VN.js";
import {
  require_lib
} from "./chunk-3YEPOXGM.js";
import {
  cwd,
  resolvePath
} from "./chunk-EG6MBBEN.js";
import {
  __toESM,
  init_cjs_shims
} from "./chunk-PKR7KJ6P.js";

// src/cli/commands/doctor-release/theme/index.ts
init_cjs_shims();
var import_core = __toESM(require_lib(), 1);
var DoctorReleaseTheme = class _DoctorReleaseTheme extends base_command_default {
  static {
    this.description = "Run all theme command doctor-release tests";
  }
  static {
    this.hidden = !0;
  }
  static {
    this.flags = {
      ...globalFlags,
      path: import_core.Flags.string({
        char: "p",
        description: "The path to run tests in. Defaults to current directory.",
        env: "SHOPIFY_FLAG_PATH",
        parse: async (input) => resolvePath(input),
        default: async () => cwd()
      }),
      environment: import_core.Flags.string({
        char: "e",
        description: "The environment to use from shopify.theme.toml (required for store-connected tests).",
        env: "SHOPIFY_FLAG_ENVIRONMENT",
        required: !0
      }),
      store: import_core.Flags.string({
        char: "s",
        description: "Store URL (overrides environment).",
        env: "SHOPIFY_FLAG_STORE"
      }),
      password: import_core.Flags.string({
        description: "Password from Theme Access app (overrides environment).",
        env: "SHOPIFY_FLAG_PASSWORD"
      })
    };
  }
  async run() {
    if (!canRunDoctorRelease())
      return;
    let { flags } = await this.parse(_DoctorReleaseTheme);
    (await runThemeDoctor({
      path: flags.path,
      environment: flags.environment,
      store: flags.store,
      password: flags.password
    })).some((result) => result.status === "failed") && (process.exitCode = 1);
  }
};

export {
  DoctorReleaseTheme
};
//# sourceMappingURL=chunk-5WZHH7DV.js.map
